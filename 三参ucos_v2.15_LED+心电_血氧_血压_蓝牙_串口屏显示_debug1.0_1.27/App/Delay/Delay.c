/*********************************************************************************************************
* 模块名称：Delay.c
* 摘    要：软件延时模块
* 当前版本：1.0.0
* 作    者：Leyutek(COPYRIGHT 2018 - 2021 Leyutek. All rights reserved.)
* 完成日期：2021年07月01日
* 内    容：
* 注    意：
**********************************************************************************************************
* 取代版本：
* 作    者：
* 完成日期：
* 修改内容：
* 修改文件：
*********************************************************************************************************/

/*********************************************************************************************************
*                                              包含头文件
*********************************************************************************************************/
#include "Delay.h"

/*********************************************************************************************************
*                                              宏定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              枚举结构体定义
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部变量
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部函数声明
*********************************************************************************************************/

/*********************************************************************************************************
*                                              内部函数实现
*********************************************************************************************************/

/*********************************************************************************************************
*                                              API函数实现
*********************************************************************************************************/
/*********************************************************************************************************
* 函数名称：DelayNms
* 函数功能：毫秒级延时函数
* 输入参数：nms
* 输出参数：void
* 返 回 值：void
* 创建日期：2021年07月01日
* 注    意：
*********************************************************************************************************/
void DelayNms(unsigned int nms)
{
  DelayNus(nms * 1000);
}

/*********************************************************************************************************
* 函数名称：DelayNus
* 函数功能：微秒级延时函数
* 输入参数：nus
* 输出参数：void
* 返 回 值：void
* 创建日期：2021年07月01日
* 注    意：经测试，100us和200us基本准确
*********************************************************************************************************/
void DelayNus(unsigned int nus)
{
  unsigned int s_iTimCnt = nus;  //定义一个变量s_iTimCnt作为延时计数器，赋值为nus
  unsigned short i;              //定义一个变量作为循环计数器

  while(s_iTimCnt != 0)    //延时计数器s_iTimCnt的值不为0
  {
    for(i = 0; i < 7; i++) //空循环，产生延时功能
    {
    
    }
    
    s_iTimCnt--;           //成功延时1us，变量s_iTimCnt减1
  }
}

